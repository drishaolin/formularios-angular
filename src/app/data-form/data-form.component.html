<form [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <div class="row">
        <div class="col-md-12">
            <div class="mt-3">
                <label for="nome" class="form-label"
                [class.txt-error]="mostraCampoInvalido('nome')">
                Nome
                </label>
                <input type="text" class="form-control" formControlName="nome"
                [class.has-error]="mostraCampoInvalido('nome')"
                id="nome" placeholder="nome">
            </div>
            <div class="txt-error form-text" *ngIf="mostraCampoInvalido('nome')">
                {{usuarioAuxiliarMsg.nome}}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="mt-3">
                <label for="email" class="form-label"
                [class.txt-error]="mostraCampoInvalido('email')">
                Email
                </label>
                <input type="email" class="form-control" formControlName="email"
                [class.has-error]="mostraCampoInvalido('email')"
                id="email" placeholder="nome@email.com">
            </div>
            <div class="txt-error form-text" *ngIf="mostraCampoInvalido('email')">
                {{usuarioAuxiliarMsg.email}}
            </div>
            <div class="txt-error form-text" *ngIf="verificaEmailInvalido()">
                {{usuarioAuxiliarMsg.emailInvalido}}
            </div>
        </div>
    </div>

    <div formGroupName="endereco">
        <div class="row">
            <!-- CAMPO CEP -->
            <div class="col-md-3">
                <div class="mt-3">
                    <label for="cep" class="form-label"
                    [class.txt-error]="mostraCampoInvalido('endereco.cep')">
                    CEP
                    </label>
                    <input type="text" class="form-control" formControlName="cep"
                    [class.has-error]="mostraCampoInvalido('endereco.cep')"
                    id="cep" placeholder="00000-000" >
                    <!-- (blur)="consultaCEP($event.target, f)"> -->
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.cep')">
                    {{usuarioAuxiliarMsg.cep}}
                </div>
            </div>

            <!-- CAMPO NÚMERO -->
            <div class="col-md-3">
                <div class="mt-3">
                    <label for="numero" class="form-label" 
                    [class.txt-error]="mostraCampoInvalido('endereco.numero')">
                    Número
                    </label>
                    <input type="text" class="form-control" formControlName="numero"
                    [class.has-error]="mostraCampoInvalido('endereco.numero')"
                    id="numero" placeholder="insira o número">
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.numero')">
                    {{usuarioAuxiliarMsg.numero}}
                </div>
            </div>

            <!-- CAMPO COMPLEMENTO -->
            <div class="col-md-6">
                <div class="mt-3">
                    <label for="complemento" class="form-label">
                    Complemento
                    </label>
                    <input type="text" class="form-control" formControlName="complemento"
                    id="complemento" placeholder="complemento não é obrigatório">
                </div>
            </div>
        </div>
        
        <!-- CAMPO RUA -->
        <div class="row">
            <div class="col-md-12">
                <div class="mt-3">
                    <label for="rua" class="form-label"
                    [class.txt-error]="mostraCampoInvalido('endereco.rua')" >
                    Rua
                </label>
                    <input type="text" class="form-control" id="rua" formControlName="rua"
                    [class.has-error]="mostraCampoInvalido('endereco.rua')">
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.rua')">
                    {{usuarioAuxiliarMsg.rua}}
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-5">
                <!-- CAMPO BAIRRO -->
                <div class="mt-3">
                    <label for="bairro" class="form-label"
                    [class.txt-error]="mostraCampoInvalido('endereco.bairro')">
                    Bairro
                    </label>
                    <input type="text" class="form-control" id="bairro" formControlName="bairro"
                    [class.has-error]="mostraCampoInvalido('endereco.bairro')">
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.bairro')">
                    {{usuarioAuxiliarMsg.bairro}}
                </div>
            </div>
            
            <!-- CAMPO CIDADE -->
            <div class="col-md-5">
                <div class="mt-3">
                    <label for="cidade" class="form-label"
                    [class.txt-error]="mostraCampoInvalido('endereco.cidade')">
                    Cidade
                </label>
                    <input type="text" class="form-control" id="cidade" formControlName="cidade"
                    [class.has-error]="mostraCampoInvalido('endereco.cidade')">
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.cidade')">
                    {{usuarioAuxiliarMsg.cidade}}
                </div>
            </div>
            
            <!-- CAMPO ESTADO -->
            <div class="col-md-2">
                <div class="mt-3">
                    <label for="estado" class="form-label"
                    [class.txt-error]="!formulario.get('endereco.estado')!.valid && formulario.get('endereco.estado')!.touched">
                    Estado
                    </label>
                    <input type="text" class="form-control" id="estado" formControlName="estado"
                    [class.has-error]="mostraCampoInvalido('endereco.estado')">
                </div>
                <div class="txt-error form-text" *ngIf="mostraCampoInvalido('endereco.estado')">
                    {{usuarioAuxiliarMsg.estado}}
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex">
        <button type="submit" class="btn mt-3">
            Submit
        </button>
        <button type="button" class="btn btn-warning mt-3 ms-2" (click)="limparFormulario()">
            Limpar Formulário
        </button>
    </div>
</form>

<app-form-debug [form]="formulario"></app-form-debug>
